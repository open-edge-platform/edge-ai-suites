# Search Image by Image

Leverage edge AI technologies to efficiently process and search video data, identifying objects of interest and providing actionable insights in real-time.

## Overview

The **Search Image by Image** application is a reference application that demonstrates how developers can leverage edge AI technologies to solve real-world challenges. It enables efficient processing and searching of video data to identify objects of interest, providing actionable insights in real-time.
This reference application showcases searching through video data generated by cameras around a city to find the closest match to the user-provided image.

### Use Cases


- **Traffic Stream Search**: Search for cars or pedestrians in the traffic stream, retrieving results with camera locations and timestamps from live or recorded footage.

- **Tool Tracking in Assembly Line**: Locate specific tools, such as a wrench or drill, in live or recorded footage to prevent delays and ensure operational efficiency by retrieving results with camera locations and timestamps.

### Key Feaures

- **Real-Time Video Processing**: Enables rapid extraction and analysis of visual data from live video streams.
- **Scalable Search Capabilities**: Efficiently handles large-scale video datasets using Vector DB for fast and accurate retrieval.
- **Enhanced Object Recognition**: Uses AI-powered feature extraction to identify and match objects with high precision.
- **Seamless Integration**: Works with third-party microservices like MediaMTX, EVAM, and MilvusDB for robust performance.
- **Improved Urban Management**: Provides actionable insights for traffic monitoring and security applications.
- **Custom Model Integration**: Allows users to integrate their own developed models for feature extraction and object recognition, providing flexibility and customization to meet specific requirements.

## How it Works

This section provides a high-level view of how the application works. 

![High-Level System Diagram](./_static/architecture_simplified.png)
*Figure 1: High-Level System Diagram for the Search Image by Image Application.*

### Inputs

- Video files or live camera streams (simulated or real-time)
- User-provided images or images captured from video for search

The sample application includes a demonstration video for users to experiment with. This video is a static loop, simulated to function as a live stream. It becomes visible in the user interface as soon as the application is launched.

### Processing

- **Video Analysis**: Media streams are processed via MediaMTX, and predictions are made using EVAM. Video analysis is triggered by the "Analyze Stream" button. The EVAM pipeline is activated to analyze the video and extract images from each frame.
- **Feature Extraction**: Predictions (including metadata and images) are sent via MQTT to Feature Matching, which generates feature vectors. If the predictions exceed a pre-determined threshold, the detected objects are stored as vector embeddings in MilvusDB, while the frames are saved in the docker file system. 
- **Storage & Retrieval**: Feature vectors are stored in MilvusDB and analyzed via MilvusUI.
- **Video Search**: To initiate a video search, the video first needs to be analyzed by the EVAM pipeline by clicking the "Analyze Stream" button. Users can then either upload their own images using the "Upload Image" button or capture an object by clicking "Capture Frame." When the frame is captured, it is also possible to readjust the frame to border a specific object. User images are ingested via ImageIngestor, processed by EVAM , and matched against stored feature vectors in MilvusDB. 

### Outputs

- Matched search results, including metadata, timestamps, distance to show the confidence rate of the prediction and frames

<div align="center"><img src="./_static/sibi.gif"/></div>

## Minimum System Requirements

<!--
**Guidelines for Authors**:
- Specify minimum and recommended hardware/software requirements.
- Clearly distinguish between required dependencies and optional configurations.
-->

### **Hardware Requirements**
| Component  | Minimum Requirement    |
|------------|------------------------|
| CPU        | Intel Ultra 7-155H     |
| GPU        | Intel Arc Graphics     |
| RAM        | 8 GB                   |
| Storage    | 30 GB free space       |


### **Software Requirements**
| Requirement  | Details                                    |
|--------------|--------------------------------------------|
| Supported OS | Ubuntu 20.04 LTS, Windows 10/11 with WSL 2 |
| Dependencies | Docker 20.10                               |


## Next Steps
- [Get Started](./get-started.md)
- [System Requirements](./system-requirements.md)

